<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libqb: qbipcc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libqb
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_99176029e6245da7be482686d42cbcde.html">qb</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">qbipcc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Client IPC API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/uio.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="qbipc__common_8h.html">qb/qbipc_common.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for qbipcc.h:</div>
<div class="dyncontent">
<div class="center"><img src="qbipcc_8h__incl.png" border="0" usemap="#qbipcc_8h" alt=""/></div>
<map name="qbipcc_8h" id="qbipcc_8h">
<area shape="rect" id="node4" href="qbipc__common_8h.html" title="common types and definitions " alt="" coords="219,80,357,107"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a31c6c3e3172caf492a5612b067d0866b"><td class="memItemLeft" align="right" valign="top">typedef struct qb_ipcc_connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a></td></tr>
<tr class="separator:a31c6c3e3172caf492a5612b067d0866b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3a82d4c6b7a2ab201d992765d0de3a9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a3a82d4c6b7a2ab201d992765d0de3a9a">qb_ipcc_connect</a> (const char *name, size_t max_msg_size)</td></tr>
<tr class="memdesc:a3a82d4c6b7a2ab201d992765d0de3a9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connection to an IPC service.  <a href="#a3a82d4c6b7a2ab201d992765d0de3a9a">More...</a><br/></td></tr>
<tr class="separator:a3a82d4c6b7a2ab201d992765d0de3a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2947e072846820e98123decc416f45e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#aa2947e072846820e98123decc416f45e">qb_ipcc_verify_dgram_max_msg_size</a> (size_t max_msg_size)</td></tr>
<tr class="memdesc:aa2947e072846820e98123decc416f45e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test kernel dgram socket buffers to verify the largest size up to the max_msg_size value a single msg can be.  <a href="#aa2947e072846820e98123decc416f45e">More...</a><br/></td></tr>
<tr class="separator:aa2947e072846820e98123decc416f45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067acfb7767d297df3ff5278ca59a807"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a067acfb7767d297df3ff5278ca59a807">qb_ipcc_disconnect</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c)</td></tr>
<tr class="memdesc:a067acfb7767d297df3ff5278ca59a807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect an IPC connection.  <a href="#a067acfb7767d297df3ff5278ca59a807">More...</a><br/></td></tr>
<tr class="separator:a067acfb7767d297df3ff5278ca59a807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bb1166a3262ec66a09baf8d2677e72"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#aa8bb1166a3262ec66a09baf8d2677e72">qb_ipcc_fd_get</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, int32_t *fd)</td></tr>
<tr class="memdesc:aa8bb1166a3262ec66a09baf8d2677e72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file descriptor to poll.  <a href="#aa8bb1166a3262ec66a09baf8d2677e72">More...</a><br/></td></tr>
<tr class="separator:aa8bb1166a3262ec66a09baf8d2677e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989bfc3952a75c144b43bde878ab17ea"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a989bfc3952a75c144b43bde878ab17ea">qb_ipcc_fc_enable_max_set</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, uint32_t max)</td></tr>
<tr class="memdesc:a989bfc3952a75c144b43bde878ab17ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum allowable flowcontrol value.  <a href="#a989bfc3952a75c144b43bde878ab17ea">More...</a><br/></td></tr>
<tr class="separator:a989bfc3952a75c144b43bde878ab17ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e21d1c3d32a193942383df243970ec"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a65e21d1c3d32a193942383df243970ec">qb_ipcc_send</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, const void *msg_ptr, size_t msg_len)</td></tr>
<tr class="memdesc:a65e21d1c3d32a193942383df243970ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message.  <a href="#a65e21d1c3d32a193942383df243970ec">More...</a><br/></td></tr>
<tr class="separator:a65e21d1c3d32a193942383df243970ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24320112b230d637c007698610cddf4"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#ad24320112b230d637c007698610cddf4">qb_ipcc_sendv</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, const struct iovec *iov, size_t iov_len)</td></tr>
<tr class="memdesc:ad24320112b230d637c007698610cddf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message (iovec).  <a href="#ad24320112b230d637c007698610cddf4">More...</a><br/></td></tr>
<tr class="separator:ad24320112b230d637c007698610cddf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa037f63fbd7104908bba9da4c0835a5b"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#aa037f63fbd7104908bba9da4c0835a5b">qb_ipcc_recv</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, void *msg_ptr, size_t msg_len, int32_t ms_timeout)</td></tr>
<tr class="memdesc:aa037f63fbd7104908bba9da4c0835a5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a response.  <a href="#aa037f63fbd7104908bba9da4c0835a5b">More...</a><br/></td></tr>
<tr class="separator:aa037f63fbd7104908bba9da4c0835a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f6553aa735a1d59f69a952bcdfff33"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#ad5f6553aa735a1d59f69a952bcdfff33">qb_ipcc_sendv_recv</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, const struct iovec *iov, uint32_t iov_len, void *msg_ptr, size_t msg_len, int32_t ms_timeout)</td></tr>
<tr class="memdesc:ad5f6553aa735a1d59f69a952bcdfff33"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a convenience function that simply sends and then recvs.  <a href="#ad5f6553aa735a1d59f69a952bcdfff33">More...</a><br/></td></tr>
<tr class="separator:ad5f6553aa735a1d59f69a952bcdfff33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c5e4b3f7c1db49ad57dc24e04318822"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a6c5e4b3f7c1db49ad57dc24e04318822">qb_ipcc_event_recv</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, void *msg_ptr, size_t msg_len, int32_t ms_timeout)</td></tr>
<tr class="memdesc:a6c5e4b3f7c1db49ad57dc24e04318822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an event.  <a href="#a6c5e4b3f7c1db49ad57dc24e04318822">More...</a><br/></td></tr>
<tr class="separator:a6c5e4b3f7c1db49ad57dc24e04318822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4faf27eafed021ac22b10bb96f5ac5e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a4faf27eafed021ac22b10bb96f5ac5e8">qb_ipcc_context_set</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c, void *context)</td></tr>
<tr class="memdesc:a4faf27eafed021ac22b10bb96f5ac5e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate a "user" pointer with this connection.  <a href="#a4faf27eafed021ac22b10bb96f5ac5e8">More...</a><br/></td></tr>
<tr class="separator:a4faf27eafed021ac22b10bb96f5ac5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21230debda1cadc0cc7b59b3cef50c0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#ae21230debda1cadc0cc7b59b3cef50c0">qb_ipcc_context_get</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c)</td></tr>
<tr class="memdesc:ae21230debda1cadc0cc7b59b3cef50c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the context (set previously)  <a href="#ae21230debda1cadc0cc7b59b3cef50c0">More...</a><br/></td></tr>
<tr class="separator:ae21230debda1cadc0cc7b59b3cef50c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af152f628c79fd670e64c852b4db32ca3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#af152f628c79fd670e64c852b4db32ca3">qb_ipcc_is_connected</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c)</td></tr>
<tr class="memdesc:af152f628c79fd670e64c852b4db32ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the connection connected?  <a href="#af152f628c79fd670e64c852b4db32ca3">More...</a><br/></td></tr>
<tr class="separator:af152f628c79fd670e64c852b4db32ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ba9cda10fbd1c41f92c4e96f90f769"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbipcc_8h.html#a93ba9cda10fbd1c41f92c4e96f90f769">qb_ipcc_get_buffer_size</a> (<a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *c)</td></tr>
<tr class="memdesc:a93ba9cda10fbd1c41f92c4e96f90f769"><td class="mdescLeft">&#160;</td><td class="mdescRight">What is the actual buffer size used after the connection.  <a href="#a93ba9cda10fbd1c41f92c4e96f90f769">More...</a><br/></td></tr>
<tr class="separator:a93ba9cda10fbd1c41f92c4e96f90f769"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Client IPC API. </p>
<dl class="section user"><dt>Lifecycle of an IPC connection.</dt><dd>An IPC connection is made to the server with <a class="el" href="qbipcc_8h.html#a3a82d4c6b7a2ab201d992765d0de3a9a" title="Create a connection to an IPC service. ">qb_ipcc_connect()</a>. This function connects to the server and requests channels be created for communication. To disconnect, the client either exits or executes the function <a class="el" href="qbipcc_8h.html#a067acfb7767d297df3ff5278ca59a807" title="Disconnect an IPC connection. ">qb_ipcc_disconnect()</a>.</dd></dl>
<dl class="section user"><dt>Synchronous communication</dt><dd>The function <a class="el" href="qbipcc_8h.html#ad5f6553aa735a1d59f69a952bcdfff33" title="This is a convenience function that simply sends and then recvs. ">qb_ipcc_sendv_recv()</a> sends an iovector request and receives a response.</dd></dl>
<dl class="section user"><dt>Asynchronous requests from the client</dt><dd>The function <a class="el" href="qbipcc_8h.html#ad24320112b230d637c007698610cddf4" title="Send a message (iovec). ">qb_ipcc_sendv()</a> sends an iovector request. The function <a class="el" href="qbipcc_8h.html#a65e21d1c3d32a193942383df243970ec" title="Send a message. ">qb_ipcc_send()</a> sends an message buffer request.</dd></dl>
<dl class="section user"><dt>Asynchronous events from the server</dt><dd>The <a class="el" href="qbipcc_8h.html#a6c5e4b3f7c1db49ad57dc24e04318822" title="Receive an event. ">qb_ipcc_event_recv()</a> function receives an out-of-band asynchronous message. The asynchronous messages are queued and can provide very high out-of-band performance. To determine when to call <a class="el" href="qbipcc_8h.html#a6c5e4b3f7c1db49ad57dc24e04318822" title="Receive an event. ">qb_ipcc_event_recv()</a> the <a class="el" href="qbipcc_8h.html#aa8bb1166a3262ec66a09baf8d2677e72" title="Get the file descriptor to poll. ">qb_ipcc_fd_get()</a> call is used to obtain a file descriptor used in the poll() or select() system calls. </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a31c6c3e3172caf492a5612b067d0866b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct qb_ipcc_connection <a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3a82d4c6b7a2ab201d992765d0de3a9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a>* qb_ipcc_connect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_msg_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a connection to an IPC service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the service. </td></tr>
    <tr><td class="paramname">max_msg_size</td><td>biggest msg size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL (error: see errno) or a connection object.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>It is recommended to do a one time check on the max_msg_size value using qb_ipcc_verify_dgram_max_msg_size <em>BEFORE</em> calling the connect function when IPC_SOCKET is in use. Some distributions while allow large message buffers to be set on the socket, but not actually honor them because of kernel state values. The qb_ipcc_verify_dgram_max_msg_size function both sets the socket buffer size and verifies it by doing a send/recv. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a23">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae21230debda1cadc0cc7b59b3cef50c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* qb_ipcc_context_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the context (set previously) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the context </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="qbipcc_8h.html#a4faf27eafed021ac22b10bb96f5ac5e8" title="Associate a &quot;user&quot; pointer with this connection. ">qb_ipcc_context_set()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4faf27eafed021ac22b10bb96f5ac5e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qb_ipcc_context_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associate a "user" pointer with this connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>the point to associate with this connection. </td></tr>
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="qbipcc_8h.html#ae21230debda1cadc0cc7b59b3cef50c0" title="Get the context (set previously) ">qb_ipcc_context_get()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a067acfb7767d297df3ff5278ca59a807"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qb_ipcc_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect an IPC connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a25">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a6c5e4b3f7c1db49ad57dc24e04318822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t qb_ipcc_event_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>msg_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ms_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">msg_ptr</td><td>pointer to a message buffer to receive into </td></tr>
    <tr><td class="paramname">msg_len</td><td>the size of the buffer </td></tr>
    <tr><td class="paramname">ms_timeout</td><td>time in milli seconds to wait for a message 0 == no wait, negative == block, positive == wait X ms. </td></tr>
    <tr><td class="paramname">ms_timeout</td><td>max time to wait for a response </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of the message or error (-errno)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>that msg_ptr will include a <a class="el" href="structqb__ipc__response__header.html">qb_ipc_response_header</a> at the top of the message. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a10">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a989bfc3952a75c144b43bde878ab17ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t qb_ipcc_fc_enable_max_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum allowable flowcontrol value. </p>
<dl class="section note"><dt>Note</dt><dd>the default is 1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">max</td><td>the max allowable flowcontrol value (1 or 2) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa8bb1166a3262ec66a09baf8d2677e72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t qb_ipcc_fd_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the file descriptor to poll. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">fd</td><td>(out) file descriptor to poll </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a93ba9cda10fbd1c41f92c4e96f90f769"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t qb_ipcc_get_buffer_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>What is the actual buffer size used after the connection. </p>
<dl class="section note"><dt>Note</dt><dd>The buffer size is guaranteed to be at least the size of the value given in qb_ipcc_connect, but it is possible the server will enforce a larger size depending on the implementation. If the server side is known to enforce a buffer size, use this function after the client connection is established to retrieve the buffer size in use. It is important for the client side to know the buffer size in use so the client can successfully retrieve large server events.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">connection</td><td>size in bytes or -error code </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a24">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="af152f628c79fd670e64c852b4db32ca3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t qb_ipcc_is_connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the connection connected? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">QB_TRUE</td><td>when connected </td></tr>
    <tr><td class="paramname">QB_FALSE</td><td>when not connected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa037f63fbd7104908bba9da4c0835a5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t qb_ipcc_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>msg_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ms_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">msg_ptr</td><td>pointer to a message buffer to receive into </td></tr>
    <tr><td class="paramname">msg_len</td><td>the size of the buffer </td></tr>
    <tr><td class="paramname">ms_timeout</td><td>max time to wait for a response </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(size recv'ed, -errno == error)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>that msg_ptr will include a <a class="el" href="structqb__ipc__response__header.html">qb_ipc_response_header</a> at the top of the message. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a11">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a65e21d1c3d32a193942383df243970ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t qb_ipcc_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>msg_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">msg_ptr</td><td>pointer to a message to send </td></tr>
    <tr><td class="paramname">msg_len</td><td>the size of the message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(size sent, -errno == error)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>the msg_ptr must include a <a class="el" href="structqb__ipc__request__header.html">qb_ipc_request_header</a> at the top of the message. The server will read the size field to determine how much to recv. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a9">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ad24320112b230d637c007698610cddf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t qb_ipcc_sendv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iov_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message (iovec). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">iov</td><td>pointer to an iovec struct to send </td></tr>
    <tr><td class="paramname">iov_len</td><td>the number of iovecs used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(size sent, -errno == error)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>the iov[0] must be a <a class="el" href="structqb__ipc__request__header.html">qb_ipc_request_header</a>. The server will read the size field to determine how much to recv. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ipcclient_8c-example.html#a5">ipcclient.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ad5f6553aa735a1d59f69a952bcdfff33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t qb_ipcc_sendv_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qbipcc_8h.html#a31c6c3e3172caf492a5612b067d0866b">qb_ipcc_connection_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>iov_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>msg_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ms_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a convenience function that simply sends and then recvs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>connection instance </td></tr>
    <tr><td class="paramname">iov</td><td>pointer to an iovec struct to send </td></tr>
    <tr><td class="paramname">iov_len</td><td>the number of iovecs used </td></tr>
    <tr><td class="paramname">msg_ptr</td><td>pointer to a message buffer to receive into </td></tr>
    <tr><td class="paramname">msg_len</td><td>the size of the buffer </td></tr>
    <tr><td class="paramname">ms_timeout</td><td>max time to wait for a response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the iov[0] must include a <a class="el" href="structqb__ipc__request__header.html">qb_ipc_request_header</a> at the top of the message. The server will read the size field to determine how much to recv. </dd>
<dd>
that msg_ptr will include a <a class="el" href="structqb__ipc__response__header.html">qb_ipc_response_header</a> at the top of the message.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="qbipcc_8h.html#ad24320112b230d637c007698610cddf4" title="Send a message (iovec). ">qb_ipcc_sendv()</a> <a class="el" href="qbipcc_8h.html#aa037f63fbd7104908bba9da4c0835a5b" title="Receive a response. ">qb_ipcc_recv()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa2947e072846820e98123decc416f45e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t qb_ipcc_verify_dgram_max_msg_size </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_msg_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test kernel dgram socket buffers to verify the largest size up to the max_msg_size value a single msg can be. </p>
<p>Rounds down to the nearest 1k.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_msg_size</td><td>biggest msg size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if max size can not be detected, positive value representing the largest single msg up to max_msg_size that can successfully be sent over a unix dgram socket. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
